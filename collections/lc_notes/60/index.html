<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]]}}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><title>Monotonic Stack | DAXPY</title><link rel=stylesheet href=/css/main.min.d700ad2998f190f21436ef39c94129166ea316da7e0014005c9c2ced3b288a04.css integrity="sha256-1wCtKZjxkPIUNu85yUEpFm6jFtp+ABQAXJws7TsoigQ=" crossorigin=anonymous><script src=/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js integrity="sha256-I80MfYNyY7nq65buLZzPopadqj+gD6HB/ocBqbhyUaE=" crossorigin=anonymous></script></head><body><header><nav><ul><li><a class=text_secondary href=https://daxpy.xyz/>DAXPY</a></li><li>|</li><li><a href=https://daxpy.xyz/posts/>Posts</a></li><li><a href=https://daxpy.xyz/notes/>Notes</a></li><li><a href=https://daxpy.xyz/collections/>Collections</a></li><li><a href=https://daxpy.xyz/links/>Links</a></li><li><a href=https://daxpy.xyz/stories/>Stories</a></li><li><a href=/about>About</a></li></ul></nav></header><main><section><div style=text-align:right;height:5px;margin-top:10px class=italic>this page
⟩ <a href=/collections/lc_notes/>lc notes</a>
⟩ <a href=/collections/>collections</a>
⟩ <a href=/>home</a></div><article><h2 id=monotonic-stack>Monotonic Stack</h2><p>A monotonic decreasing stack is a data structure based on a stack. While traversing an array, it maintains a sorted list of elements encountered so far that are strictly greater than or equal to the current element being processed. It upholds this property by continuously removing elements from the top of the stack that violate the requirement (i.e., elements that are less than the current element).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>stack <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> num <span style=color:#f92672>in</span> nums:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> stack <span style=color:#f92672>and</span> stack[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>] <span style=color:#f92672>&lt;=</span> num:
</span></span><span style=display:flex><span>        stack<span style=color:#f92672>.</span>pop()
</span></span><span style=display:flex><span>    stack<span style=color:#f92672>.</span>append(num)
</span></span><span style=display:flex><span>    <span style=color:#75715e># stack[-1] &gt; stack[-2] &gt; ... &gt; stack[0]</span>
</span></span></code></pre></div><p>Although a monotonic stack can be used to solve problems that require finding previous smaller (or larger) elements from the stack, a more interesting use is to exploit the interim states of the monotonic stack while it updates itself to maintain the property of monotonicity. Ex.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>stack <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>arr<span style=color:#f92672>.</span>append(<span style=color:#f92672>-</span>math<span style=color:#f92672>.</span>inf) <span style=color:#75715e># to ensure all elements are processed</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> idx range(len(arr)):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> stack <span style=color:#f92672>and</span> arr[stack[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]] <span style=color:#f92672>&lt;=</span> arr[idx]:
</span></span><span style=display:flex><span>        mid <span style=color:#f92672>=</span> stack<span style=color:#f92672>.</span>pop()
</span></span><span style=display:flex><span>        left <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span> <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> stack <span style=color:#66d9ef>else</span> stack[<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]
</span></span><span style=display:flex><span>        right <span style=color:#f92672>=</span> idx
</span></span><span style=display:flex><span>        <span style=color:#75715e># do something with arr[left] &gt; a[mid] &lt; a[right]</span>
</span></span><span style=display:flex><span>    stack<span style=color:#f92672>.</span>append(idx)
</span></span></code></pre></div><p>References</p><ul><li><a href=https://labuladong.gitbook.io/algo-en/ii.-data-structure/monotonicstack>https://labuladong.gitbook.io/algo-en/ii.-data-structure/monotonicstack</a></li><li><a href=https://leetcode.com/discuss/study-guide/2347639/A-comprehensive-guide-and-template-for-monotonic-stack-based-problems>https://leetcode.com/discuss/study-guide/2347639/A-comprehensive-guide-and-template-for-monotonic-stack-based-problems</a></li></ul></article><br><br><br><i>tags:</i>
<a class=gray style=padding-right:5px href=/tags#monotonic%20stack><i>#monotonic stack</i></a></section></main><footer><p>Found something useful here? pass it on; or tell me about it!<nav><ul><li><a href="https://drive.google.com/drive/folders/18LU6PKnxy8rDrAXhpiPXV2yOYlO_I8cF?usp=sharing">Resume</a></li><li><a href=https://daxpy.xyz/collections/>Collections</a></li><li><a href=https://www.linkedin.com/in/ndivakar/>Linkedin</a></li></ul></nav><small><a href=#top>↑ Top of page</a></small></p></footer></body></html>