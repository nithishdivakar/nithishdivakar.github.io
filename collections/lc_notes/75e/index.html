<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width"><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]]}}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><title>Swim in Rising Water | DAXPY</title><link rel=stylesheet href=/css/main.min.94a2540136d9a839e3ae21136b6ed35c457b231d8bd1a157c7089710a8682c84.css integrity="sha256-lKJUATbZqDnjriETa27TXEV7Ix2L0aFXxwiXEKhoLIQ=" crossorigin=anonymous><script src=/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js integrity="sha256-I80MfYNyY7nq65buLZzPopadqj+gD6HB/ocBqbhyUaE=" crossorigin=anonymous></script></head><body><header><nav><ul><li><a class=text_secondary href=https://daxpy.xyz/>DAXPY</a></li><li>|</li><li><a href=https://daxpy.xyz/posts/>Posts</a></li><li><a href=https://daxpy.xyz/notes/>Notes</a></li><li><a href=https://daxpy.xyz/collections/>Collections</a></li><li><a href=https://daxpy.xyz/links/>Links</a></li><li><a href=https://daxpy.xyz/stories/>Stories</a></li><li><a href=/about>About</a></li></ul></nav></header><main><section><article><h2 id=swim-in-rising-water-lc778>Swim in Rising Water [LC#778]</h2><blockquote><p>You are given an <code>n x n</code> integer matrix grid where each value <code>grid[i][j]</code> represents the elevation at that point <code>(i, j)</code>. The rain starts to fall. At time <code>t</code>, the depth of the water everywhere is <code>t</code>. You can swim from a square to another 4-directionally adjacent square if and only if the elevation of both squares individually are at most t. You can swim infinite distances in zero time. Of course, you must stay within the boundaries of the grid during your swim.</p><p>Return the least time until you can reach the bottom right square <code>(n - 1, n - 1)</code> if you start at the top left square <code>(0, 0)</code>.</p></blockquote><h3 id=intuition>Intuition</h3><ul><li>Solution is a path from source to target with least maximum elevation.</li><li>Binary search on all possible paths</li><li>BFS or DFS can be used interchangeably</li></ul><h3 id=code>Code</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>swim_in_water</span>(grid: List[List[int]]) <span style=color:#f92672>-&gt;</span> int:
</span></span><span style=display:flex><span>    m, n <span style=color:#f92672>=</span> len(grid), len(grid[<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>neighbours</span>(x, y):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> dx, dy <span style=color:#f92672>in</span> [(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>), (<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>), (<span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>), (<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>)]:
</span></span><span style=display:flex><span>            nx, ny <span style=color:#f92672>=</span> x <span style=color:#f92672>+</span> dx, y <span style=color:#f92672>+</span> dy
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (<span style=color:#ae81ff>0</span> <span style=color:#f92672>&lt;=</span> nx <span style=color:#f92672>&lt;</span> m) <span style=color:#f92672>and</span> (<span style=color:#ae81ff>0</span> <span style=color:#f92672>&lt;=</span> ny <span style=color:#f92672>&lt;</span> n):
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>yield</span> (nx, ny)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>bfs_with_limit</span>(limit):
</span></span><span style=display:flex><span>        queue <span style=color:#f92672>=</span> deque([(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>)])
</span></span><span style=display:flex><span>        seen <span style=color:#f92672>=</span> {(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>)}
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span> queue:
</span></span><span style=display:flex><span>            row, col <span style=color:#f92672>=</span> queue<span style=color:#f92672>.</span>popleft()
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> (row, col) <span style=color:#f92672>==</span> (m <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>, n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>):
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>for</span> nx, ny <span style=color:#f92672>in</span> neighbours(row, col):
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>if</span> (nx, ny) <span style=color:#f92672>not</span> <span style=color:#f92672>in</span> seen <span style=color:#f92672>and</span> grid[nx][ny] <span style=color:#f92672>&lt;=</span> limit:
</span></span><span style=display:flex><span>                    queue<span style=color:#f92672>.</span>append((nx, ny))
</span></span><span style=display:flex><span>                    seen<span style=color:#f92672>.</span>add((nx, ny))
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    lo, hi <span style=color:#f92672>=</span> grid[<span style=color:#ae81ff>0</span>][<span style=color:#ae81ff>0</span>], max(max(grid[i]) <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(m))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> lo <span style=color:#f92672>&lt;</span> hi:
</span></span><span style=display:flex><span>        mid <span style=color:#f92672>=</span> lo <span style=color:#f92672>+</span> (hi <span style=color:#f92672>-</span> lo) <span style=color:#f92672>//</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> bfs_with_limit(mid):
</span></span><span style=display:flex><span>            hi <span style=color:#f92672>=</span> mid
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            lo <span style=color:#f92672>=</span> mid <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> lo
</span></span></code></pre></div><h3 id=time-complexity>Time complexity</h3><ul><li>$T(n) = O(\log(2^b) mn) = O(mn)$</li><li>$S(n) = O(mn)$</li></ul></article><br><br><br><i>tags:</i>
<a class=gray style=padding-right:5px href=/tags#binary%20search><i>#binary search</i></a>
<a class=gray style=padding-right:5px href=/tags#bfs><i>#bfs</i></a></section></main><footer><p>Found something useful here? pass it on; or tell me about it!<nav><ul><li><a href="https://drive.google.com/drive/folders/18LU6PKnxy8rDrAXhpiPXV2yOYlO_I8cF?usp=sharing">Resume</a></li><li><a href=https://daxpy.xyz/collections/>Collections</a></li><li><a href=https://www.linkedin.com/in/ndivakar/>Linkedin</a></li></ul></nav><small><a href=#top>â†‘ Top of page</a></small></p></footer></body></html>